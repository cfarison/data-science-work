---
title: "Traumatic Brain Injury Trends"
author: "Charlie Farison"
date: 2020-08-05
output:
  github_document:
    toc: true
---

*Purpose*: We'd like to understand trends in causes of traumatic brain injury.

# Background
<!-- -------------------------------------------------- -->

Brain Injury Awareness Month, observed each March, was established 3 decades ago to educate the public about the incidence of brain injury and the needs of persons with brain injuries and their families. Caused by a bump, blow, or jolt to the head, or penetrating head injury, a traumatic brain injury (TBI) can lead to short- or long-term changes affecting thinking, sensation, language, or emotion.

TBI is very common. One of every 60 people in the U.S. lives with a TBI related disability. Moderate and severe traumatic brain injury (TBI) can lead to a lifetime of physical, cognitive, emotional, and behavioral changes.

**Sources:**

- CDC: https://www.cdc.gov/mmwr/volumes/68/wr/mm6810a1.htm
- TidyTuesday: https://github.com/rfordatascience/tidytuesday/blob/master/data/2020/2020-03-24/readme.md

# Data Dictionaries
<!-- -------------------------------------------------- -->

**tbi_age**

| Variable | Class | Description |
|----------|----------------|--------------|
| age_group | character | Age group |
| type | character | Type of measure |
| injury_mechanism | character | Injury mechanism |
| number_est | double | Estimated observed cases in 2014 |
| rate_est | double | Rate/100,000 in 2014 |

**tbi_year**

| Variable | Class | Description |
|----------|----------------|--------------|
| injury_mechanism | character | Injury mechanism |
| type | character | Type of measure |
| year | character | Year (2006 - 2014) |
| rate_est | double | Rate/100,000 in 2014 |
| number_est | integer | Estimated observed cases in each year |

type has 3 possible values:

- Emergency Department Visit				
- Hospitalizations				
- Deaths

injury_mechanism has 7 possible values:

- Motor Vehicle Crashes			
- Unintentional Falls			
- Unintentionally struck by or against an object			
- Other unintentional injury, mechanism unspecified			
- Intentional self-harm			
- Assault			
- Other or no mechanism specified

**tbi_military**

| Variable | Class | Description |
|----------|----------------|--------------|
| service | character | Military branch |
| component | character | Military component (active, guard, reserve) |
| severity | character | Severity/type of TBI |
| diagnosed | double | Number diagnosed |
| year | integer | Year for observation (2006 - 2014) |

service has 4 possible values:

- Army				
- Navy				
- Air Force				
- Marines

component has 3 possible values:

- Active				
- Guard				
- Reserve

severity has 5 possible values:

- Penetrating				
- Severe				
- Moderate				
- Mild				
- Not Classifiable

# Initial Data Exploration
<!-- -------------------------------------------------- -->

```{r setup, include = FALSE}
library(tidyverse)
```

```{r, include = FALSE}
tbi_age <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-24/tbi_age.csv')
tbi_year <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-24/tbi_year.csv')
tbi_military <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-24/tbi_military.csv')
```

*Questions to explore:*

- What is the most common injury mechanism? Has that changed over time?
- Does the most common injury mechanism vary by age group?
- Do certain type of measures correlate with certain injury mechanisms?
- Do certain type of measures correlate with certain ages?
- Which service in the military has the highest rate of TBI? Has that changed over time?
- Which component of the military has the highest rate of TBIs? Does it vary by service or over time?
- Which service in the military has the most severe TBIs? Has that changed over time?

```{r}
tbi_summary <-
  tbi_year %>%
  mutate(year = as.integer(year)) %>%
  group_by(year, injury_mechanism) %>%
  summarize(total = sum(number_est)) %>%
  filter(total > 0) %>%
  mutate(total = total / 1000)
tbi_summary %>%
  ggplot(mapping = aes(x = year, y = total, color = injury_mechanism)) +
  geom_point() +
  geom_line() +
  labs(
    title = "Increase in TBIs from Unintentional Falls",
    x = "Year",
    y = "Total TBIs (thousands)"
  )
```

**Observations**:

- Total traumatic brain injuries (TBIs) reported from unintentional falls nearly doubled from 2006 to 2014, while TBIs from people unintentionally struck by or against an object raised somewhat, and TBIs from other injury mechanisms stayed roughly constant. While population did increase, population did not double in this timeframe, so there is still a significant effect here. It is possible that some factor led to more reporting of TBIs, possibly increased awareness among medical professionals.


```{r}
age_summary <-
  tbi_age %>%
  group_by(age_group, injury_mechanism) %>%
  summarize(total = sum(number_est)) %>%
  filter(total > 0, age_group != "0-17", age_group !="Total")
age_summary$age_group <- 
  factor(
    age_summary$age_group,
    levels = c("0-4","5-14","15-24","25-34","35-44","45-54","55-64","65-74","75+"))
age_summary %>%
  filter(injury_mechanism %in% c("Unintentional Falls")) %>%
  mutate(total = total/1000) %>%
  ggplot() +
  geom_col(
    mapping = aes(x = age_group, y = total),
    position = "dodge") +
  labs(
    title = "TBIs from Unintentional Falls Most Prevalent for Adults 75+",
    x = "Age Group",
    y = "Total TBIs (thousands)"
  )
```

**Observations**:

- Diving deeper into 2014 data, the age group with the highest incidence of unintentional falls are 75+, followed by 0-4. So maybe the increase in unintentional falls is due to older people living longer and thus there being more older people who may have unintentional falls.

But what about the rate of falls for older people? Is it just population or something more?


```{r}
age_summary %>%
  #filter(injury_mechanism %in% c("Assault", "Motor Vehicle Crashes")) %>%
  ggplot() +
  geom_col(
    mapping = aes(x = injury_mechanism, y = total), 
    position = "dodge") +
  facet_wrap(~age_group) +
  labs(
    title = "TBIs from Assault and Car Crashes Most Prevalent for Teens, Young Adults",
    x = "Age Group",
    y = "Total TBIs"
  )
```

